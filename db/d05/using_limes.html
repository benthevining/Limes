<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Limes: Compiling &amp; using Limes</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "ams.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Limes
   &#160;<span id="projectnumber">4.8.1</span>
   </div>
   <div id="projectbrief">C++ utilities and building blocks</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('db/d05/using_limes.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Compiling &amp; using Limes </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#basic_usage">Basic usage</a></li>
<li class="level1"><a href="#compilation">Compiling Limes</a></li>
<li class="level1"><a href="#cmake">CMake information</a><ul><li class="level2"><a href="#cmake_opts">Options</a><ul><li class="level3"><a href="#cmake_opts_vecops">limes_vecops options</a></li>
</ul>
</li>
<li class="level2"><a href="#cmake_deps">Dependencies</a></li>
<li class="level2"><a href="#cmake_targets">Targets</a></li>
<li class="level2"><a href="#cmake_install">Installation</a><ul><li class="level3"><a href="#cmake_install_comps">Install components</a></li>
<li class="level3"><a href="#cmake_install_groups">Install component groups</a></li>
<li class="level3"><a href="#cmake_findpkg_comps">Limes find_package components</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#limes_docs_build">Building the Limes documentation</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="basic_usage"></a>
Basic usage</h1>
<p>You can run cmake &ndash;install and then call find_package (Limes) from your consuming project, and everything should just work out of the box.</p>
<p>If your project depends on Limes, I recommend copying the <code>FindLimes.cmake</code> script from the <code>scripts/</code> directory into your project's source tree (and adding its location to the <code>CMAKE_MODULE_PATH</code> before calling find_package (Limes)), so that if your project is built on a system where Limes hasn't been installed, it can still be fetched at configure-time. See the FindLimes file for more documentation on what it does.</p>
<h1><a class="anchor" id="compilation"></a>
Compiling Limes</h1>
<p>Limes makes use of C++20, notably concepts. Limes has been tested on Mac, Windows, and Linux with Clang, GCC, and MSVC. Limes is also tested crosscompiled for iOS, tvOS and watchOS.</p>
<p>To build the Limes unit tests, pass <code>-DLIMES_BUILD_TESTS=ON</code> to the CMake configuration. This option defaults to <code>OFF</code> .</p>
<h1><a class="anchor" id="cmake"></a>
CMake information</h1>
<p>Limes aims to be very CMake-aware, and modern CMake design patterns are strictly enforced in Limes CMake code and its primary CMake dependency, <a href="https://github.com/benthevining/Oranges">Oranges</a>.</p>
<p>The goal of Limes's CMake scripts is to reduce the number of user-facing options, while still retaining flexibility for both users and developers of Limes.</p>
<h2><a class="anchor" id="cmake_opts"></a>
Options</h2>
<dl class="section user"><dt>LIMES_BUILD_TESTS</dt><dd>Builds the Limes unit tests. Defaults to <code>OFF</code> if Limes is not the top-level directory CMake is invoked in.</dd></dl>
<dl class="section user"><dt>LIMES_BUILD_DOCS</dt><dd>Builds the Limes documentation. Defaults to <code>OFF</code> if Limes is not the top-level directory CMake is invoked in.</dd></dl>
<dl class="section user"><dt>LIMES_INTERNAL_DOCS</dt><dd>When building the documentation, includes extra information on internal implementation details not meant for inclusion in the public documentation. This option always defaults to <code>OFF</code> , and is intended for internal use only.</dd></dl>
<h3><a class="anchor" id="cmake_opts_vecops"></a>
limes_vecops options</h3>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../dc/dd4/group__limes__vecops.html" title="The Limes vector operations library.">limes_vecops</a></dd></dl>
<p>The limes_vecops library has several additional options controlling its choice of 3rd party backend (if any) to use.</p>
<p>The default selection of the backend follows these heuristics:</p><ul>
<li>Use vDSP if on an Apple platform</li>
<li>Use IPP if on an Intel platform and it can be found on the system</li>
<li>Use MIPP if on a platform that supports NEON, SSE, AVX, or AVX512</li>
<li>Otherwise, use the builtin fallback implementations</li>
</ul>
<p>However, these defaults can be overridden using the following CMake options:</p>
<dl class="section user"><dt>LIMES_USE_VDSP</dt><dd>If <code>ON</code> , prefer to use Apple vDSP over any other backend.</dd></dl>
<dl class="section user"><dt>LIMES_USE_IPP</dt><dd>If <code>ON</code> , prefer to use Intel IPP over any other backend.</dd></dl>
<dl class="section user"><dt>LIMES_USE_MIPP</dt><dd>If <code>ON</code> , prefer to use MIPP over any other backend.</dd></dl>
<dl class="section user"><dt>LIMES_USE_VECOPS_FALLBACK</dt><dd>If <code>ON</code> , prefer to use the builtin fallbacks over any third party backend.</dd></dl>
<dl class="section user"><dt>LIMES_VECOPS_BACKEND</dt><dd>A string value that can be one of <code>VDSP</code> , <code>IPP</code> , <code>MIPP</code> , or <code>FALLBACK</code> . If an unrecognized value is present, a warning will be issued.</dd></dl>
<p>These additional options further control the behavior of the limes_vecops library:</p>
<dl class="section user"><dt>LIMES_USE_POMMIER</dt><dd>If <code>ON</code> , Julien Pommier's sin and cosine functions for SSE and NEON will be used, if on a platform supporting those instructions. The main use case of this option is to disable these functions.</dd></dl>
<dl class="section user"><dt>LIMES_USE_FFTW</dt><dd>By default, FFTW will be searched for in the system, and if found, will be used for the limes_vecops FFT class's backend. However, you can set this option to <code>OFF</code> to ignore FFTW. vDSP and IPP also provide FFT implementations.</dd></dl>
<h2><a class="anchor" id="cmake_deps"></a>
Dependencies</h2>
<p>Limes's CMake configuration depends on the <a href="https://github.com/benthevining/Oranges">Oranges</a> package of CMake scripts.</p>
<p>You can set the environment or command-line variable <code>ORANGES_PATH</code> to direct the Limes CMake configuration to use a local copy. If no local copy is present and Oranges cannot be found on your system, invoking Limes's CMake configuration will fetch and cache a copy of the Oranges source code.</p>
<p>The limes_vecops library can optionally link to the following external libraries:</p><ul>
<li>Apple vDSP (Accelerate framework)</li>
<li>Intel IPP</li>
<li>MIPP</li>
<li>FFTW</li>
</ul>
<p>If MIPP is used, its sources will be fetched at configure time if necessary. IPP must be manually installed to the system by the developer using Intel's installer program. FFTW can be installed to your system with a simple cmake &ndash;install of their git repository.</p>
<h2><a class="anchor" id="cmake_targets"></a>
Targets</h2>
<p>Limes creates the following CMake targets:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name </th><th class="markdownTableHeadNone">Kind </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Limes::limes_audio </td><td class="markdownTableBodyNone">Static library </td><td class="markdownTableBodyNone">Limes library of realtime audio utilities  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Limes::limes_core </td><td class="markdownTableBodyNone">Static library </td><td class="markdownTableBodyNone">Limes core library of utilities  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Limes::limes_data_structures </td><td class="markdownTableBodyNone">Static library </td><td class="markdownTableBodyNone">Limes library of data structures  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Limes::limes_locale </td><td class="markdownTableBodyNone">Static library </td><td class="markdownTableBodyNone">Limes localization library  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Limes::limes_midi </td><td class="markdownTableBodyNone">Static library </td><td class="markdownTableBodyNone">Limes library of MIDI utilities  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Limes::limes_music </td><td class="markdownTableBodyNone">Static library </td><td class="markdownTableBodyNone">Limes library of music theory utilities  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Limes::limes_vecops </td><td class="markdownTableBodyNone">Static library </td><td class="markdownTableBodyNone">Limes vector operations library  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Limes::Limes </td><td class="markdownTableBodyNone">Interface library </td><td class="markdownTableBodyNone">Links to all Limes libraries and includes <a class="el" href="../../d2/d8d/limes_8h.html">limes.h</a>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Limes::FileUtil </td><td class="markdownTableBodyNone">Executable </td><td class="markdownTableBodyNone">OS-agnostic interface to filesystem operations  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Limes::BinaryBuilder </td><td class="markdownTableBodyNone">Executable </td><td class="markdownTableBodyNone">Generates C++ sources embedding binary data files  </td></tr>
</table>
<p>See the documentation for each library and executable for more specific information about each of them.</p>
<h2><a class="anchor" id="cmake_install"></a>
Installation</h2>
<h3><a class="anchor" id="cmake_install_comps"></a>
Install components</h3>
<p>Limes creates the following CPack install components:</p><ul>
<li>limes_vecops_dev</li>
<li>limes_vecops_runtime</li>
<li>limes_music_dev</li>
<li>limes_music_runtime</li>
<li>limes_core_dev</li>
<li>limes_core_runtime</li>
<li>limes_audio_dev</li>
<li>limes_audio_runtime</li>
<li>limes_midi_dev</li>
<li>limes_midi_runtime</li>
<li>limes_data_structures_dev</li>
<li>limes_data_structures_runtime</li>
<li>limes_locale_dev</li>
<li>limes_locale_runtime</li>
<li>limes_libs_dev</li>
<li>limes_libs_runtime</li>
<li>limes_binary_builder_dev</li>
<li>limes_binary_builder_runtime</li>
<li>limes_programs_dev</li>
<li>limes_programs_runtime</li>
<li>limes_dev (aggregate of all other dev components)</li>
<li>limes_runtime (aggregate of all other runtime components)</li>
<li>limes_doc_pdf</li>
<li>limes_doc_html</li>
<li>limes_doc_man</li>
<li>limes_docs</li>
</ul>
<h3><a class="anchor" id="cmake_install_groups"></a>
Install component groups</h3>
<p>Limes creates the following CPack install component groups:</p><ul>
<li>limes_vecops</li>
<li>limes_music</li>
<li>limes_core</li>
<li>limes_audio</li>
<li>limes_midi</li>
<li>limes_data_structures</li>
<li>limes_locale</li>
<li>limes_libs</li>
<li>limes_binary_builder</li>
<li>limes_programs</li>
<li>limes_sphinx_docs</li>
<li>limes_doxy_docs</li>
<li>limes_docs</li>
<li>limes (aggregate of all Limes components)</li>
</ul>
<h3><a class="anchor" id="cmake_findpkg_comps"></a>
Limes find_package components</h3>
<p>When you call <code>find_package(Limes)</code> from a consuming project, you can optionally specify any of the following component names:</p><ul>
<li>All</li>
<li>Libs</li>
<li>Programs</li>
<li>Audio</li>
<li>MIDI</li>
<li>Core</li>
<li>DataStructures</li>
<li>Locale</li>
<li>Music</li>
<li>Vecops</li>
<li>BinaryBuilder</li>
<li>FileUtil</li>
</ul>
<p>If no component names are specified, Limes will default to importing everything.</p>
<p>These component names are common to the CMake package files Limes exports, and the <a class="el" href="../../d9/d7d/find_limes.html">FindLimes.cmake</a> FindLimes.cmake script that Limes ships for convenience.</p>
<p>To read more about this find module, <a class="el" href="../../d9/d7d/find_limes.html">FindLimes.cmake</a> head here.</p>
<h1><a class="anchor" id="limes_docs_build"></a>
Building the Limes documentation</h1>
<p>The Limes documentation is built with Doxygen. Building the docs can be enabled with the <code>LIMES_BUILD_DOCS</code> option.</p>
<p>Doxygen and Graphviz's dot tool are required for building the docs. A non-fatal warning will be issued during CMake configuration if either program cannot be found.</p>
<p>To generate the @f(\LaTeX @f) PDF output, <code>pdflatex</code> and a make executable are required. If both can be found, generating the PDF will be automatically enabled. The PDF generation can fail spuriously; you can try manually running <code>make</code> in the <code>doc/latex</code> directory, and press enter if it prompts you about an error. On my Mac, I needed to run the following commands to get the @f(\LaTeX @f) build working: </p><div class="fragment"><div class="line">brew install basictex</div>
<div class="line">sudo tlmgr install latexmk collection-latexextra wasysym helvetic wasy courier</div>
<div class="line">brew install gs</div>
</div><!-- fragment --><p>The CMake target that executes the build of the docs is called <code>LimesDocs</code> . </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">Limes documentation</a></li>
    <li class="footer">Generated on Wed Jun 8 2022 22:09:29 for Limes by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
